# Bank Term Deposit Prediction

## Опис проєкту
Цей проєкт присвячений розробці моделі машинного навчання для прогнозування того, чи оформить клієнт банку строковий депозит (Term Deposit)

**Основна метрика:** ROC-AUC

## Дані
Використано датасет [Bank Marketing Dataset](https://www.kaggle.com/datasets/sahistapatel96/bankadditionalfullcsv) (версія `bank-additional-full.csv`).
Він містить інформацію про демографію клієнта, історію попередніх контактів та макроекономічні показники.

## Хід виконання роботи

### 1. Exploratory Data Analysis (EDA)
Проведено аналіз розподілу ознак. Ключові інсайти:
- **Економіка:** Великий вплив мають макроекономічні фактори.
- **Попередній досвід:** Успіх у попередній кампанії (`poutcome=success`) значно підвищує шанси на успіх у поточній.
- **Сезонність:** Виявлено залежність успіху від місяця (травень — найнижча конверсія).
- **Вік:** Люди до 30 та старшого віку (60+) частіше відкривають депозит.

### 2. Препроцесинг
- Обробка пропущених значень (`unknown`).
- Створення нових ознак: `age_group` (вікові групи), `is_prev_contacted`.
- Логарифмування розподілів (`campaign`, `previous`).
- Кодування категоріальних змінних (OneHotEncoding) та масштабування числових.

### 3. Моделювання
Було протестовано 4 алгоритми:

| Модель | Train AUC | Test AUC | Коментар |
| :--- | :---: | :---: | :--- |
| **Logistic Regression** | 0.79 | 0.79 | Хороша базова модель, стабільна і без перенавчання |
| **kNN** | 0.85 | 0.77 | Помітне падіння якості на тесті і ця модель повільніша |
| **Decision Tree** | 0.84 | 0.75 | Помітне перенавчання (Train значно кращий за Test) |
| **XGBoost (Tuned)** | **0.84** | **0.80** | **Найкращий результат після Hyperopt** |

### 4. Аналіз помилок
Для найкращої моделі (XGBoost) було проведено:
- **SHAP Analysis:** Визначено, що найбільш впливовими факторами є макроекономічні показники та історія контактів з клієнтами
- **Error Analysis:** Вплив макроекономіки: Основна частина пропущених клієнтів (False Negatives) припадає на більші відсоткові ставки (Euribor ~2.5%), тоді як модель надає перевагу стабільним періодам (Euribor < 1%). Історія клієнта: Модель схильна занижувати ймовірність успіху для нових клієнтів, покладаючись на наявність успішних угод у минулому.

## Висновки

В ході аналізу помилок було встановлено, що стандартний поріг прийняття рішення (0.5) є неефективним, оскільки призводить до втрати великої кількості потенційних клієнтів (False Negatives).

Провів експеримент зі зниженням порогу до **0.3**. Результати:
- **+233** знайдених реальних клієнтів (ріст True Positives з 224 до 457).

### Майбутні покращення

 Спробувати застосувати методи ресемплингу типу SMOTE, а також розділити модель на дві: одну для нових клієнтів, іншу — для тих, з ким вже контактували.
